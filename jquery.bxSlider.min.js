/**
 * jQuery bxSlider v3.0
 * http://bxslider.com
 *
 * Copyright 2010, Steven Wanderski
 * http://bxcreative.com
 *
 * Free to use and abuse under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 * 
 */
(function(a){a.fn.bxSlider=function(b){function c(b,c,d,e){var f=[];var g=d;var h=false;if(e=="backward"){b=a.makeArray(b);b.reverse()}while(g>0){a.each(b,function(b,d){if(g>0){if(!h){if(b==c){h=true;f.push(a(this).clone());g--}}else{f.push(a(this).clone());g--}}else{return false}})}return f}function d(){var a=B.outerHeight()*b.displaySlideQty;return a}function e(){var a=B.outerWidth()*b.displaySlideQty;return a}function f(b,c){if(c=="left"){var d=a(".pager",A).eq(b).position().left}else if(c=="top"){var d=a(".pager",A).eq(b).position().top}return d}function g(){if(!b.infiniteLoop&&b.hideControlOnEnd){if(Q==Y){a(".bx-prev",A).hide()}else{a(".bx-prev",A).show()}if(Q==Z){a(".bx-next",A).hide()}else{a(".bx-next",A).show()}}}function h(c,d,e,f){I=a('<a href="" class="bx-start"></a>');if(c=="text"){K=d}else{K='<img src="'+d+'" />'}if(e=="text"){L=f}else{L='<img src="'+f+'" />'}if(b.autoControlsSelector){a(b.autoControlsSelector).append(I)}else{A.append('<div class="bx-auto"></div>');a(".bx-auto",A).html(I)}I.click(function(){if(b.ticker){if(a(this).hasClass("stop")){w.stopTicker()}else if(a(this).hasClass("start")){w.startTicker()}}else{if(a(this).hasClass("stop")){w.stopShow(true)}else if(a(this).hasClass("start")){w.startShow(true)}}return false})}function i(){var c=a("img",z.eq(Q)).attr("title");var d=a("img",z.eq(Q)).parent("a").attr("href");if(c!=""){if(b.captionsSelector&&!b.captionsLink){a(b.captionsSelector).html(c)}else if(b.captionsSelector&&b.captionsLink){a(b.captionsSelector).children("a").attr("href",d).html(c)}else if(!b.captionsSelector&&b.captionsLink){a(".bx-captions",A).children("a").attr("href",d).html(c)}else{a(".bx-captions",A).html(c)}}else{if(b.captionsSelector){a(b.captionsSelector).html("Â ")}else{a(".bx-captions",A).html("Â ")}}}function j(c){var d=z.length;if(b.moveSlideQty>1){if(z.length%b.moveSlideQty!=0){d=Math.ceil(z.length/b.moveSlideQty)}else{d=z.length/b.moveSlideQty}}var e="";if(b.buildPager){for(var f=0;f<d;f++){e+=b.buildPager(f,z.eq(f*b.moveSlideQty))}}else if(c=="full"){for(var f=1;f<=d;f++){e+='<a href="" class="pager-link pager-'+f+'">'+f+"</a>"}}else if(c=="short"){e='<span class="bx-pager-current">'+(b.startingSlide+1)+"</span> "+b.pagerShortSeparator+' <span class="bx-pager-total">'+z.length+"</span>"}if(b.pagerSelector){a(b.pagerSelector).append(e);G=a(b.pagerSelector)}else{var g=a('<div class="bx-pager"></div>');g.append(e);if(b.pagerLocation=="top"){A.prepend(g)}else if(b.pagerLocation=="bottom"){A.append(g)}G=a(".bx-pager",A)}G.children().not(".prev-container").not(".next-container").click(function(){if(b.pagerType=="full"){var a=G.children().not(".prev-container").not(".next-container").index(this);if(b.moveSlideQty>1){a*=b.moveSlideQty}w.goToSlide(a)}return false})}function k(c,d,e,f){var g=a('<a href="" class="bx-next"></a>');var h=a('<a href="" class="bx-prev"></a>');if(c=="text"){g.html(d)}else{g.html('<img src="'+d+'" />')}if(e=="text"){h.html(f)}else{h.html('<img src="'+f+'" />')}if(b.prevSelector){a(b.prevSelector).append(h)}else{A.append(h)}if(b.nextSelector){a(b.nextSelector).append(g)}else{A.append(g)}g.click(function(){w.goToNextSlide();return false});h.click(function(){w.goToPreviousSlide();return false})}function l(c){if(b.pagerType=="full"&&b.pager){a("a",G).not(".prev").not(".next").removeClass(b.pagerActiveClass);a("a",G).not(".prev").not(".next").eq(c).addClass(b.pagerActiveClass)}else if(b.pagerType=="short"&&b.pager){a(".bx-pager-current",G).html(Q+1)}}function m(){z.not(":eq("+Q+")").fadeTo(b.speed,0).css("zIndex",18);z.eq(Q).css("zIndex",19).fadeTo(b.speed,1,function(){X=false;if(jQuery.browser.msie){z.eq(Q).get(0).style.removeAttribute("filter")}b.onAfterSlide(Q,z.length,z.eq(Q))})}function n(){x.hover(function(){if(M){w.stopTicker(false)}},function(){if(M){w.startTicker(false)}})}function o(){A.find(".bx-window").hover(function(){if(M){w.stopShow(false)}},function(){if(M){w.startShow(false)}})}function p(){if(b.startImage!=""){startContent=b.startImage;startType="image"}else{startContent=b.startText;startType="text"}if(b.stopImage!=""){stopContent=b.stopImage;stopType="image"}else{stopContent=b.stopText;stopType="text"}h(startType,startContent,stopType,stopContent)}function q(a,c,d){if(b.mode=="horizontal"){if(b.tickerDirection=="next"){x.animate({left:"-="+c+"px"},d,"linear",function(){x.css("left",a);q(a,T,b.tickerSpeed)})}else if(b.tickerDirection=="prev"){x.animate({left:"+="+c+"px"},d,"linear",function(){x.css("left",a);q(a,T,b.tickerSpeed)})}}else if(b.mode=="vertical"){if(b.tickerDirection=="next"){x.animate({top:"-="+c+"px"},d,"linear",function(){x.css("top",a);q(a,U,b.tickerSpeed)})}else if(b.tickerDirection=="prev"){x.animate({top:"+="+c+"px"},d,"linear",function(){x.css("top",a);q(a,U,b.tickerSpeed)})}}}function r(){if(b.auto){if(!b.infiniteLoop){if(b.autoDirection=="next"){H=setInterval(function(){Q+=b.moveSlideQty;if(Q>Z){Q=Q%z.length}w.goToSlide(Q,false)},b.pause)}else if(b.autoDirection=="prev"){H=setInterval(function(){Q-=b.moveSlideQty;if(Q<0){negativeOffset=Q%z.length;if(negativeOffset==0){Q=0}else{Q=z.length+negativeOffset}}w.goToSlide(Q,false)},b.pause)}}else{if(b.autoDirection=="next"){H=setInterval(function(){w.goToNextSlide(false)},b.pause)}else if(b.autoDirection=="prev"){H=setInterval(function(){w.goToPreviousSlide(false)},b.pause)}}}else if(b.ticker){b.tickerSpeed*=10;a(".pager",A).each(function(b){T+=a(this).width();U+=a(this).height()});if(b.tickerDirection=="prev"&&b.mode=="horizontal"){x.css("left","-"+(T+R)+"px")}else if(b.tickerDirection=="prev"&&b.mode=="vertical"){x.css("top","-"+(U+S)+"px")}if(b.mode=="horizontal"){V=parseInt(x.css("left"));q(V,T,b.tickerSpeed)}else if(b.mode=="vertical"){W=parseInt(x.css("top"));q(W,U,b.tickerSpeed)}if(b.tickerHover){n()}}}function s(){if(b.nextImage!=""){nextContent=b.nextImage;nextType="image"}else{nextContent=b.nextText;nextType="text"}if(b.prevImage!=""){prevContent=b.prevImage;prevType="image"}else{prevContent=b.prevText;prevType="text"}k(nextType,nextContent,prevType,prevContent)}function t(){if(b.mode=="horizontal"||b.mode=="vertical"){var d=c(z,0,b.moveSlideQty,"backward");a.each(d,function(b){x.prepend(a(this))});var e=z.length+b.moveSlideQty-1;var f=z.length-b.displaySlideQty;var g=e-f;var h=c(z,0,g,"forward");if(b.infiniteLoop){a.each(h,function(b){x.append(a(this))})}}}function u(){t(b.startingSlide);if(b.mode=="horizontal"){x.wrap('<div class="'+b.wrapperClass+'" style="width:'+E+'px; position:relative;"></div>').wrap('<div class="bx-window" style="position:relative; overflow:hidden; width:'+E+'px;"></div>').css({width:"999999px",position:"relative",left:"-"+R+"px"});x.children().css({width:C,"float":"left",listStyle:"none"});A=x.parent().parent();z.addClass("pager")}else if(b.mode=="vertical"){x.wrap('<div class="'+b.wrapperClass+'" style="width:'+O+'px; position:relative;"></div>').wrap('<div class="bx-window" style="width:'+O+"px; height:"+F+'px; position:relative; overflow:hidden;"></div>').css({height:"999999px",position:"relative",top:"-"+S+"px"});x.children().css({listStyle:"none",height:P});A=x.parent().parent();z.addClass("pager")}else if(b.mode=="fade"){x.wrap('<div class="'+b.wrapperClass+'" style="width:'+O+'px; position:relative;"></div>').wrap('<div class="bx-window" style="height:'+P+"px; width:"+O+'px; position:relative; overflow:hidden;"></div>');x.children().css({listStyle:"none",position:"absolute",top:0,left:0,zIndex:98});A=x.parent().parent();z.not(":eq("+Q+")").fadeTo(0,0);z.eq(Q).css("zIndex",18)}if(b.captions&&b.captionsSelector==null&&!b.captionsLink){A.append('<div class="bx-captions"></div>')}else if(b.captions&&b.captionsSelector==null&&b.captionsLink){A.append('<div class="bx-captions"><a href="#"></a></div>')}}var v={mode:"horizontal",infiniteLoop:true,hideControlOnEnd:false,controls:true,speed:500,easing:"swing",pager:false,pagerSelector:null,pagerType:"full",pagerLocation:"bottom",pagerShortSeparator:"/",pagerActiveClass:"pager-active",nextText:"next",nextImage:"",nextSelector:null,prevText:"prev",prevImage:"",prevSelector:null,captions:false,captionsSelector:null,captionsLink:false,auto:false,autoDirection:"next",autoControls:false,autoControlsSelector:null,autoStart:true,autoHover:false,autoDelay:0,pause:3e3,startText:"start",startImage:"",stopText:"stop",stopImage:"",ticker:false,tickerSpeed:5e3,tickerDirection:"next",tickerHover:false,wrapperClass:"bx-wrapper",startingSlide:0,displaySlideQty:1,moveSlideQty:1,randomStart:false,onBeforeSlide:function(){},onAfterSlide:function(){},onLastSlide:function(){},onFirstSlide:function(){},onNextSlide:function(){},onPrevSlide:function(){},buildPager:null};var b=a.extend(v,b);var w=this;var x="";var y="";var z="";var A="";var B="";var C="";var D="";var E="";var F="";var G="";var H="";var I="";var J="";var K="";var L="";var M=true;var N=false;var O=0;var P=0;var Q=0;var R=0;var S=0;var T=0;var U=0;var V=0;var W=0;var X=false;var Y=0;var Z=z.length-1;this.goToSlide=function(a,c){if(!X){X=true;Q=a;b.onBeforeSlide(Q,z.length,z.eq(Q));if(typeof c=="undefined"){var c=true}if(c){if(b.auto){w.stopShow(true)}}slide=a;if(slide==Y){b.onFirstSlide(Q,z.length,z.eq(Q))}if(slide==Z){b.onLastSlide(Q,z.length,z.eq(Q))}if(b.mode=="horizontal"){x.animate({left:"-"+f(slide,"left")+"px"},b.speed,b.easing,function(){X=false;b.onAfterSlide(Q,z.length,z.eq(Q))})}else if(b.mode=="vertical"){x.animate({top:"-"+f(slide,"top")+"px"},b.speed,b.easing,function(){X=false;b.onAfterSlide(Q,z.length,z.eq(Q))})}else if(b.mode=="fade"){m()}g();if(b.moveSlideQty>1){a=Math.floor(a/b.moveSlideQty)}l(a);i()}};this.goToNextSlide=function(a){if(typeof a=="undefined"){var a=true}if(a){if(b.auto){w.stopShow(true)}}if(!b.infiniteLoop){if(!X){var c=false;Q=Q+b.moveSlideQty;if(Q<=Z){g();b.onNextSlide(Q,z.length,z.eq(Q));w.goToSlide(Q)}else{Q-=b.moveSlideQty}}}else{if(!X){X=true;var c=false;Q=Q+b.moveSlideQty;if(Q>Z){Q=Q%z.length;c=true}b.onNextSlide(Q,z.length,z.eq(Q));b.onBeforeSlide(Q,z.length,z.eq(Q));if(b.mode=="horizontal"){var d=b.moveSlideQty*D;x.animate({left:"-="+d+"px"},b.speed,b.easing,function(){X=false;if(c){x.css("left","-"+f(Q,"left")+"px")}b.onAfterSlide(Q,z.length,z.eq(Q))})}else if(b.mode=="vertical"){var e=b.moveSlideQty*P;x.animate({top:"-="+e+"px"},b.speed,b.easing,function(){X=false;if(c){x.css("top","-"+f(Q,"top")+"px")}b.onAfterSlide(Q,z.length,z.eq(Q))})}else if(b.mode=="fade"){m()}if(b.moveSlideQty>1){l(Math.ceil(Q/b.moveSlideQty))}else{l(Q)}i()}}};this.goToPreviousSlide=function(c){if(typeof c=="undefined"){var c=true}if(c){if(b.auto){w.stopShow(true)}}if(!b.infiniteLoop){if(!X){var d=false;Q=Q-b.moveSlideQty;if(Q<0){Q=0;if(b.hideControlOnEnd){a(".bx-prev",A).hide()}}g();b.onPrevSlide(Q,z.length,z.eq(Q));w.goToSlide(Q)}}else{if(!X){X=true;var d=false;Q=Q-b.moveSlideQty;if(Q<0){negativeOffset=Q%z.length;if(negativeOffset==0){Q=0}else{Q=z.length+negativeOffset}d=true}b.onPrevSlide(Q,z.length,z.eq(Q));b.onBeforeSlide(Q,z.length,z.eq(Q));if(b.mode=="horizontal"){var e=b.moveSlideQty*D;x.animate({left:"+="+e+"px"},b.speed,b.easing,function(){X=false;if(d){x.css("left","-"+f(Q,"left")+"px")}b.onAfterSlide(Q,z.length,z.eq(Q))})}else if(b.mode=="vertical"){var h=b.moveSlideQty*P;x.animate({top:"+="+h+"px"},b.speed,b.easing,function(){X=false;if(d){x.css("top","-"+f(Q,"top")+"px")}b.onAfterSlide(Q,z.length,z.eq(Q))})}else if(b.mode=="fade"){m()}if(b.moveSlideQty>1){l(Math.ceil(Q/b.moveSlideQty))}else{l(Q)}i()}}};this.goToFirstSlide=function(a){if(typeof a=="undefined"){var a=true}w.goToSlide(Y,a)};this.goToLastSlide=function(){if(typeof a=="undefined"){var a=true}w.goToSlide(Z,a)};this.getCurrentSlide=function(){return Q};this.getSlideCount=function(){return z.length};this.stopShow=function(a){clearInterval(H);if(typeof a=="undefined"){var a=true}if(a&&b.autoControls){I.html(K).removeClass("stop").addClass("start");M=false}};this.startShow=function(a){if(typeof a=="undefined"){var a=true}r();if(a&&b.autoControls){I.html(L).removeClass("start").addClass("stop");M=true}};this.stopTicker=function(a){x.stop();if(typeof a=="undefined"){var a=true}if(a&&b.ticker){I.html(K).removeClass("stop").addClass("start");M=false}};this.startTicker=function(a){if(b.mode=="horizontal"){if(b.tickerDirection=="next"){var c=parseInt(x.css("left"));var d=T+c+z.eq(0).width()}else if(b.tickerDirection=="prev"){var c=-parseInt(x.css("left"));var d=c-z.eq(0).width()}var e=d*b.tickerSpeed/T;q(V,d,e)}else if(b.mode=="vertical"){if(b.tickerDirection=="next"){var f=parseInt(x.css("top"));var d=U+f+z.eq(0).height()}else if(b.tickerDirection=="prev"){var f=-parseInt(x.css("top"));var d=f-z.eq(0).height()}var e=d*b.tickerSpeed/U;q(W,d,e);if(typeof a=="undefined"){var a=true}if(a&&b.ticker){I.html(L).removeClass("start").addClass("stop");M=true}}};this.initShow=function(){x=a(this);y=x.clone();z=x.children();A="";B=x.children(":first");C=B.width();O=0;D=B.outerWidth();P=0;E=e();F=d();X=false;G="";Q=0;R=0;S=0;H="";I="";J="";K="";L="";M=true;N=false;T=0;U=0;V=0;W=0;Y=0;Z=z.length-1;z.each(function(b){if(a(this).outerHeight()>P){P=a(this).outerHeight()}if(a(this).outerWidth()>O){O=a(this).outerWidth()}});if(b.randomStart){var c=Math.floor(Math.random()*z.length);Q=c;R=D*(b.moveSlideQty+c);S=P*(b.moveSlideQty+c)}else{Q=b.startingSlide;R=D*(b.moveSlideQty+b.startingSlide);S=P*(b.moveSlideQty+b.startingSlide)}u();if(b.pager&&!b.ticker){if(b.pagerType=="full"){j("full")}else if(b.pagerType=="short"){j("short")}}if(b.controls&&!b.ticker){s()}if(b.auto||b.ticker){if(b.autoControls){p()}if(b.autoStart){setTimeout(function(){w.startShow(true)},b.autoDelay)}else{w.stopShow(true)}if(b.autoHover&&!b.ticker){o()}}if(b.moveSlideQty>1){l(Math.ceil(Q/b.moveSlideQty))}else{l(Q)}g();if(b.captions){i()}b.onAfterSlide(Q,z.length,z.eq(Q))};this.destroyShow=function(){clearInterval(H);a(".bx-next, .bx-prev, .bx-pager, .bx-auto",A).remove();x.unwrap().unwrap().removeAttr("style");x.children().removeAttr("style").not(".pager").remove();z.removeClass("pager")};this.reloadShow=function(){w.destroyShow();w.initShow()};this.each(function(){if(a(this).children().length>0){w.initShow()}});return this};jQuery.fx.prototype.cur=function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var a=parseFloat(jQuery.css(this.elem,this.prop));return a}})(jQuery)